<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Need Details - NGO Connect</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">NGO Connect</a>
                <div class="nav-links">
                    <a href="browse-needs.html">Browse Needs</a>
                    <a href="post-need.html" class="btn-nav">Post a Need</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="container" style="padding: 3rem 0;">
        <div class="grid" style="grid-template-columns: 2fr 1fr; align-items: start;">

            <!-- Left Column: Need Details -->
            <div id="need-details">
                <div id="need-content">
                    <p>Loading details...</p>
                </div>

                <!-- NGO View Section -->
                <div class="card" style="margin-top: 3rem; background: #fffbeb; border-color: #fcd34d;">
                    <h3>ðŸ”’ NGO Admin Area</h3>
                    <p>Are you the NGO (<span id="ngo-name-placeholder">...</span>) who posted this?</p>
                    <p class="text-sm mb-4">Enter the email you used to post this need to view offers.</p>

                    <form onsubmit="viewOffers(event)" style="display:flex; gap:10px;">
                        <input type="email" id="ngo-email-check" placeholder="Enter NGO Email" required style="flex:1;">
                        <button type="submit" class="btn btn-secondary">View Offers</button>
                    </form>

                    <div id="offers-list" class="mt-4 hidden">
                        <!-- Offers injected here -->
                    </div>
                </div>
            </div>

            <!-- Right Column: Donation Form -->
            <div class="card" style="position:sticky; top:20px;">
                <h2 class="mb-4">I want to help!</h2>
                <form onsubmit="submitOffer(event)">
                    <div class="form-group">
                        <label>Your Name</label>
                        <input type="text" name="donatorName" required>
                    </div>
                    <div class="form-group">
                        <label>Your Email</label>
                        <input type="email" name="donatorEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Your Phone</label>
                        <input type="tel" name="donatorPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Message</label>
                        <textarea name="message" rows="3" required placeholder="I can provide..."></textarea>
                    </div>
                    <button type="submit" class="btn" style="width:100%;">I want to fulfil this need</button>
                    <p class="mt-4" style="font-size:0.85rem; color:#6b7280; text-align:center;">
                        Your details will be shared ONLY with the NGO.
                    </p>
                </form>
            </div>

        </div>
    </main>

    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', loadNeedDetails);
    </script>
</body>

</html>